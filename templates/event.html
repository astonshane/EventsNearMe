{% extends "layout.html" %}

{% block title %}Event Page{% endblock %}


{% block links %}
<link rel="stylesheet" href="../static/event.css">
<link rel="import" href="/static/bower_components/google-map/google-map.html">
{% endblock %}

{% block body %}

<div class="container">
  <div class="jumbotron">
    <div class="row">
      <div class="col-md-8">
        <div class="row">
            <h2>
              {{event.name}}
              </br>
              <small>{{event.address}} - <a href="#">{{event.creator_name}}</a></small>
            </h2>
        </div>

        <div class="row">
            <p>
              {% if event.start_date == event.end_date %}
                {{event.start_date}}
              {% else %}
                {{event.start_date}} - {{event.end_date}}
              {% endif %}
              </br>
              {{event.start_time}} - {{event.end_time}}
            </p>
        </div>
        <div class="row">
            {% for tag in event.tags %}
            <span class="label label-primary">{{tag}}</span>
            {% endfor %}
        </div>
      </br>
        <div class="row">
            <p>
              <a class="btn btn-success" href="/join/{{event.id}}" role="button">Join <span class="badge">{{event.attending|length}}</span></a>
            </p>
            <p>
              <a class="btn btn-warning" href="/leave/{{event.id}}" role="button">Leave <span class="badge">{{event.attending|length}}</span></a>
            </p>
        </div>
      </div>
      <div class="col-md-4">
        <img src="http://lorempixel.com/g/250/250/" class="img-rounded" class="img-responsive" alt="Responsive image">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-8">
      <p class="lead">{{event.description}}</p>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Comments</h3>
        </div>
        <div class="panel-body">
          {% for comment in event.comments %}
          <div class="panel panel-default">
            <div class="panel-heading">
              Comment Title
            </div>
            <div class="panel-body">
              This is a comment
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="row">
        <google-map latitude="{{event.lat}}" longitude="{{event.lon}}" zoom="15" disableDefaultUi="true" fit-to-markers>
          <google-map-marker latitude={{event.lat}} longitude={{event.lon}} title={{event.name}}>
          </google-map-marker>
        </google-map>
      </div>
      <div class="row">
        <address>
          <strong>{{event.address}}</strong><br>
          {{event.street_address}}</br>
        </address>
      </div>
      <div class="row">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Currently Attending <span class="badge">{{event.attending|length}}</span></h3>
          </div>
          <div class="panel-body">
            <ul class="list-group">
              {% for attendee in event.attending %}
                <li class="list-group-item">
                  {{attendee}}
                </li>
              {% else %}
                Looks like no one is going to this event yet!
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>





{% endblock %}
